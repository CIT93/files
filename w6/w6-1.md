# Week 6 - Implement the Table Display Module

## Code Along Instructions
1. **Project files setup and reviewed in week 4 attendance**
* Create a new folder at the root of your private repo `w6` copy the ending code from `w5`. 
    * **Commit Message** "setup for w6 done"

## Steps
2. Update the HTML and CSS

**Insert the following just after the </section> that closes #results and before `</main>` in the index.html**
```html
<section class="table-container">
    <h2>Your Saved Footprint Entries</h2>
    <button type="button" id="clearAllDataButton" class="danger-button" style="display: block;">Clear All Saved Data</button>
    <table id="footprintTable" style="display: none;">
        <thead>
            <tr>
                <th>Date</th>
                <th>HH Size</th>
                <th>Home Size</th>
                <th>Diet</th>
                <th>Food Pkg.</th>
                <th>Total Points</th>
                <th>Actions</th> <!-- For Edit/Delete buttons (will be added later) -->
            </tr>
        </thead>
        <tbody>
            <!-- Table rows will be rendered here by JavaScript -->
        </tbody>
    </table>
    <p id="noEntriesMessage" class="note" style="display: block;">No entries saved yet.</p>
</section>
```
**Insert the following just after the .note and before the first media query**
```css
.table-container {
    margin-top: 40px;
    overflow-x: auto;
    border: 1px solid #d0e0ed;
    border-radius: 8px;
    padding: 20px;
    background-color: #fcfdfe;
}

#footprintTable {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    background-color: #ffffff;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

#footprintTable th,
#footprintTable td {
    border: 1px solid #e0e0e0;
    padding: 12px;
    text-align: left;
    vertical-align: middle;
}

#footprintTable th {
    background-color: #007bff;
    color: white;
    font-weight: bold;
    white-space: nowrap;
}

#footprintTable tbody tr:nth-child(even) {
    background-color: #f8f8f8;
}

#footprintTable tbody tr:hover {
    background-color: #eef4f7;
    cursor: default;
}

.action-button {
    padding: 8px 12px;
    font-size: 0.85em;
    margin: 0 5px;
    border-radius: 5px;
}

.action-button.edit {
    background-color: #007bff;
    color: white;
}

.action-button.edit:hover {
    background-color: #0056b3;
}

.action-button.delete {
    background-color: #dc3545;
    color: white;
}

.action-button.delete:hover {
    background-color: #c82333;
}

.action-button.confirm {
    background-color: #dc3545;
    color: white;
}

.action-button.confirm:hover {
    background-color: #c82333;
}

.action-button.cancel {
    background-color: #6c757d;
    color: white;
}

.action-button.cancel:hover {
    background-color: #5a6268;
}

.danger-button {
    background-color: #dc3545;
    color: white;
    margin-bottom: 20px;
}

.danger-button:hover {
    background-color: #c82333;
    transform: translateY(-2px);
}

.danger-button.confirm-state {
    background-color: #ffc107;
    color: #343a40;
}

.danger-button.confirm-state:hover {
    background-color: #e0a800;
}

```


3. **Week 6.1: Implement the table render module.**
* Code Along 6.1 - Part 1: Start the coding table-renderer.js
    - [Video](https://www.youtube.com/watch?v=BU7mB6I8iH4) - Right click and open in a new tab or window
        * In the `w6` folder create a new JS file named 'table-renderer.js`
        - Comments to include
            - `app.js`
                - // We will modify the `handleFormSubmit` function to trigger the table update after a new entry.
                - //  We will modify the `init` function to render the table immediately on page load with any loaded data.
            - `index.html`
                - // Change `display: none;` to `display: table;`
            - `table-renderer.js`
                - // This module handles rendering the carbon footprint entries table.
                - // Simplified to only render Date, HH Size, Home Size, Diet, Food Pkg, and Total Points.
                - // Get references to the table and its body, and the "no entries" message.
                - // 
                - // Main function to render the table with the given carbon footprint entries.
                - //
                - // @param {Array} entries - An array of carbon footprint entry objects to display.
                - //
                - // Loop through each sorted entry and create a table row for it.
                - // Using for...of loop for easy iteration
                - // Call our helper function to build the row
            - `app.js`   
                - // Render the table with the updated list of entries.
            - `table-renderer.js`   
                - // Creates and returns a single table row (<tr>) element for a given entry.
                - // This function encapsulates the logic for building each row's HTML.
                - // @param {Object} entry - The carbon footprint entry object to display.
                - // @returns {HTMLElement} The created <tr> DOM element.
                - // This is super useful for JavaScript to quickly find a row later for editing or deleting.
                - // Store the entry's unique ID directly on the row using a data-id attribute.
                - // Set the inner HTML of the row using a template literal.
                
        - Prompts to check out
            - How does JS use the dataset attribute
            - When creating HTML element with JS how does createElement differ from .innerHTML.
            - How does appendChild work and what are other methods to update the DOM?
        - Before we start on Part 2
            * **Git Workflow (Save Progress):**
                * Commit your changes with the message: **"Start the coding table-renderer.js"**

* Code Along 6.1 - Part 2: Helper Functions for createTableRow
    - [Video](https://www.youtube.com/watch?v=lqsnpIngpZ0) - Right click and open in a new tab or window
        - Comments to include
            - `table-renderer.js`
                - // --- Helper Functions for Data Formatting (Private to this module) ---
                - //
                - // Formats a timestamp into a local date string.
                - // @param {string} timestamp - ISO string timestamp.
                - // @returns {string} Formatted date string.
                - // 
                - // Formats Home Size for display in the table.
                - // @param {number} homeSquareFootage - The square footage of the home.
                - // @param {boolean} isApartment - True if the dwelling is an apartment.
                - // @returns {string} Formatted string (e.g., '1500 sqft' or 'Apt.').
                - // 
                - // Helper to format radio button values for table display (e.g., 'meatHeavy' -> 'Meat-heavy').
                - // @param {string} value - The raw value from a radio button.
                - // @returns {string} The formatted display string.
         - Prompts to check out
            - How does date.toLocaleDateString work and why is it needed?
            - Why is it called a helper function?
        - Once Complete
            * **Git Workflow (Save Progress):**
                * Commit your changes with the message: **"Helper Functions for createTableRow"**
* Code Along 6.1 - Part 3: Conditional table display and sort entries
    - [Video](https://www.youtube.com/watch?v=5Pvfw5ljO2g) - Right click and open in a new tab or window
        - Comments to include
            - `index.html`
                - Update to `display: none` on the table and `display: block` for no saved entries 
            - `table-renderer.js`
                - // Clear any existing rows in the table body to avoid duplicates on re-render.
                - //  If there are no entries, hide the table and show the "no entries" message.
                - // 
                - // Sort entries by timestamp (most recent first) before rendering.
                - // We use a spread operator [...] to create a shallow copy so we don't modify the original array order.
                - // Sorts the array in descending order (newest first)
            - `app.js` 
                - // Render the table immediately on page load with any loaded data.

         - Prompts to check out
            - How does the sort method work?
            - What is a swallow copy?
        - Once Complete
            * **Git Workflow (Save Progress):**
                * Commit your changes with the message: **"Conditional table display and sort entries"**